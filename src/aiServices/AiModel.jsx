import {GoogleGenerativeAI,HarmCategory,HarmBlockThreshold} from '@google/generative-ai'


const apiKey = import.meta.env.VITE_GOOGLE_GAMINI_API_KEY ;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

// async function run() {
export  const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate travel plan for location : Las Vegas ,for 3 days for couple with a cheap budget , give me a hotel option lsit with hotel name ,hotel address, price, hotel image url ,geo coordinates, rating ,description and suggest itinerary with placename ,place details, place image url,geo coordinates ,ticket pricing, rating, time travel, each of  the location  for 3 days  with each day plan  with best time  to visit in Json format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a JSON formatted travel plan for Las Vegas for a couple on a budget for 3 days, including hotel options and a detailed itinerary:\n\n```json\n{\n  \"trip_details\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotel_options\": [\n    {\n      \"hotel_name\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n       \"price\": \"$40 - $80 per night\",\n       \"hotel_image_url\": \"https://example.com/circus_circus.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1434,\n        \"longitude\": -115.1655\n      },\n      \"rating\": 3.5,\n      \"description\": \"A budget-friendly option on the Strip with a carnival theme, offering basic rooms, a casino, and the Adventuredome theme park. Good for its central location and entertainment options.\"\n    },\n     {\n      \"hotel_name\": \"Excalibur Hotel & Casino\",\n       \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$50 - $90 per night\",\n       \"hotel_image_url\": \"https://example.com/excalibur.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.0988,\n        \"longitude\": -115.1738\n      },\n      \"rating\": 3.8,\n      \"description\": \"A medieval-themed hotel with a good location on the southern part of the Strip, offering affordable rates, multiple pools, a casino, and a variety of dining options.\"\n    },\n    {\n      \"hotel_name\": \"Strat Hotel, Casino & SkyPod\",\n       \"hotel_address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n         \"price\": \"$50 - $100 per night\",\n       \"hotel_image_url\": \"https://example.com/the_strat.jpg\",\n       \"geo_coordinates\": {\n        \"latitude\": 36.1576,\n        \"longitude\": -115.1559\n      },\n       \"rating\": 4.0,\n      \"description\": \"Located at the northern end of the Strip, The Strat offers good value, a thrilling SkyPod with rides, and panoramic views of the city. Good for those looking for views and some distance from the central strip hustle.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Central Strip and Free Attractions\",\n       \"best_time_to_visit\": \"Morning and late afternoon/evening\",\n      \"activities\": [\n        {\n          \"place_name\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"place_details\": \"Free to visit. Elaborate horticultural displays change seasonally. Great for photos and a relaxing walk.\",\n          \"place_image_url\": \"https://example.com/bellagio_gardens.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1125,\n            \"longitude\": -115.1736\n          },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.8,\n          \"time_travel\": \"walkable from central strip hotel\"\n\n        },\n          {\n            \"place_name\": \"Bellagio Fountains\",\n            \"place_details\": \"Free to view. A spectacular water show synchronized to music. Showtimes are every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n            \"place_image_url\":\"https://example.com/bellagio_fountains.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1129,\n              \"longitude\": -115.1741\n           },\n              \"ticket_pricing\": \"Free\",\n              \"rating\": 4.9,\n              \"time_travel\": \"walkable from  Bellagio Conservatory & Botanical Gardens\"\n\n          },\n          {\n          \"place_name\": \"Fremont Street Experience\",\n            \"place_details\":\"Free to walk through. A pedestrian mall with a canopy of LED lights displaying vibrant shows, live music, and street performers.\",\n            \"place_image_url\": \"https://example.com/fremont_street.jpg\",\n           \"geo_coordinates\": {\n              \"latitude\": 36.1703,\n              \"longitude\": -115.1410\n           },\n            \"ticket_pricing\":\"Free\",\n            \"rating\":4.5,\n            \"time_travel\":\"Approximately 15-20 mins by taxi/rideshare from the central Strip or take a bus\"\n        },\n        {\n            \"place_name\": \"Street Performances and People Watching\",\n            \"place_details\": \"Free. Throughout the Strip and Fremont Street, there are various free street performances. Enjoy the atmosphere and people-watching.\",\n            \"place_image_url\": \"https://example.com/street_performances.jpg\",\n            \"geo_coordinates\": {\n                 \"latitude\": 36.1162,\n                \"longitude\": -115.1716\n             },\n             \"ticket_pricing\": \"Free\",\n            \"rating\": 4.0,\n             \"time_travel\": \"Everywhere\"\n            }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"South Strip Exploration and Nature\",\n       \"best_time_to_visit\":\"Morning and afternoon\",\n      \"activities\": [\n        {\n          \"place_name\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"place_details\": \"Free to visit. Take a classic photo at the iconic Las Vegas sign.\",\n          \"place_image_url\": \"https://example.com/las_vegas_sign.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1723\n          },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.5,\n          \"time_travel\":\" Approximately 10-15 minutes south via taxi/rideshare from central Strip\"\n        },\n       {\n          \"place_name\": \"M&M's World\",\n           \"place_details\": \"Free to enter, browsing. A four-story interactive candy store with customizable M&Mâ€™s.\",\n           \"place_image_url\":\"https://example.com/mms_world.jpg\",\n           \"geo_coordinates\":{\n              \"latitude\": 36.1085,\n              \"longitude\": -115.1718\n           },\n           \"ticket_pricing\":\"Free\",\n            \"rating\":4.2,\n           \"time_travel\":\"walkable from Welcome to Fabulous Las Vegas Sign\"\n        },\n        {\n          \"place_name\": \"The Venetian Canals and Grand Canal Shoppes\",\n          \"place_details\": \"Free to walk around. Explore indoor canals with singing gondoliers, upscale shopping and great photo opportunities.\",\n          \"place_image_url\": \"https://example.com/venetian_canals.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1206,\n            \"longitude\": -115.1698\n          },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.7,\n          \"time_travel\": \"Approximately 10 mins via taxi/rideshare or walking through the central strip\"\n        },\n\n            {\n            \"place_name\":\"Ethel M Chocolate Factory and Botanical Cactus Garden\",\n           \"place_details\":\"Free to visit .Watch chocolates being made (factory tour requires reservation) and stroll through a beautiful cactus garden.\",\n           \"place_image_url\": \"https://example.com/ethel_m.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.0514,\n              \"longitude\":-115.0863\n           },\n           \"ticket_pricing\":\"Free\",\n           \"rating\":4.4,\n             \"time_travel\":\"Approximately 15-20 minutes east by taxi/rideshare from the Strip\"\n\n        }\n      ]\n    },\n     \"day3\": {\n      \"theme\": \"North Strip and Downtown Charm\",\n        \"best_time_to_visit\":\"Morning and Evening\",\n      \"activities\": [\n        {\n          \"place_name\": \"The LINQ Promenade\",\n          \"place_details\": \"Free to explore. An outdoor pedestrian mall with shops, restaurants, and the High Roller Observation Wheel (ticketed).\",\n          \"place_image_url\": \"https://example.com/linq_promenade.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1175,\n            \"longitude\": -115.1700\n          },\n          \"ticket_pricing\": \"Free (High Roller is ticketed)\",\n          \"rating\": 4.4,\n          \"time_travel\": \"walkable from the central strip\"\n        },\n            {\n             \"place_name\":\"Container Park\",\n             \"place_details\":\"Free to explore. A quirky outdoor mall built from shipping containers. Features unique shops, restaurants, and a playground.\",\n             \"place_image_url\":\"https://example.com/container_park.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1685,\n              \"longitude\": -115.1400\n           },\n             \"ticket_pricing\":\"Free\",\n             \"rating\":4.3,\n             \"time_travel\":\"Approximately 15-20 minutes north via taxi/rideshare or bus from the central Strip\"\n\n          },\n        {\n          \"place_name\": \"Downtown Murals\",\n          \"place_details\": \"Free to view. Explore the vibrant street art and murals throughout downtown Las Vegas.\",\n          \"place_image_url\": \"https://example.com/downtown_murals.jpg\",\n          \"geo_coordinates\": {\n             \"latitude\": 36.1678,\n             \"longitude\": -115.1417\n           },\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.2,\n            \"time_travel\":\"walkable from  Fremont Street Experience, or short taxi/rideshare\"\n         },\n         {\n           \"place_name\":\"Enjoying a Sunset View\",\n          \"place_details\":\"Free to watch. Find a good spot along the Strip or at the Stratosphere for a budget-friendly sunset.\",\n          \"place_image_url\":\"https://example.com/sunset.jpg\",\n          \"geo_coordinates\":{\n            \"latitude\":36.1576,\n            \"longitude\":-115.1559\n          },\n          \"ticket_pricing\":\"Free\",\n            \"rating\":4.6,\n            \"time_travel\":\"Depends on the chosen location. Can be walkable or short ride away\"\n         }\n      ]\n    }\n  }\n}\n```\n**Notes:**\n\n*   **Image URLs:** The image URLs provided are placeholders (https://example.com/...). You'll need to replace these with actual image URLs. You can search for these images on a platform like Google Images and copy the links or use a website like Unsplash.\n*   **Hotel Prices:** Hotel prices are estimates and can vary based on the time of year and booking platform. Always confirm the price before booking.\n*   **Transportation:** The plan assumes the use of rideshares (like Uber or Lyft), public buses, or walking. If you are comfortable walking a lot, you will save money. The Deuce bus runs along the Strip and Fremont Street is a great budget option.\n*   **Food:** This plan does not include restaurant recommendations to keep it budget-friendly. You can utilize coupon and discount offers. Cheap food options include fast food restaurants, budget-friendly buffets, and grocery store sandwiches/snacks.\n*   **Activities:** This plan focuses on free or low-cost attractions. There are plenty of other paid attractions in Las Vegas, but they are outside of the defined budget for this plan.\n*   **Flexibility:** This itinerary is just a suggestion and can be adjusted based on your preferences.\n*  **Ratings** Ratings are just an estimate\n*  **Geo coordinates** Geo coordinates  are approximate\n\nThis JSON should be easy to parse and use for generating a travel plan application or presentation. Let me know if you have any more questions!\n"},
        ],
      },
    ],
  });

//   const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
//   console.log(result.response.text());
// }

// run();